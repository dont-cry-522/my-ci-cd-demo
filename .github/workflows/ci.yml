name: æˆ‘çš„ç¬¬ä¸€ä¸ªCI/CDæµæ°´çº¿

on: [push]  # æ¯æ¬¡pushä»£ç æ—¶è§¦å‘

jobs:
  test-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    # 1. ä¸‹è½½ä»£ç 
    - name: æ£€å‡ºä»£ç 
      uses: actions/checkout@v3
    
    # 2. å‡è£…åœ¨æµ‹è¯•ï¼ˆå®é™…æ˜¯æ£€æŸ¥æ–‡ä»¶ï¼‰
    - name: è¿è¡Œâ€œæµ‹è¯•â€
      run: |
        echo "ğŸš€ å¼€å§‹æµ‹è¯•..."
        if [ -f "index.html" ]; then
          echo "âœ… index.htmlæ–‡ä»¶å­˜åœ¨"
        else
          echo "âŒ æ‰¾ä¸åˆ°index.html"
          exit 1
        fi
    
    # 3. è‡ªåŠ¨éƒ¨ç½²åˆ°GitHub Pagesï¼ˆå…è´¹ç½‘ç«™æ‰˜ç®¡ï¼‰
    - name: éƒ¨ç½²åˆ°GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: .
